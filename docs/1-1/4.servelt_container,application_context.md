> 주제 4: Servlet Container와 DispatcherServlet, Application Context(Spring Container)는 무엇이고 어떻게 동작하는가?
> - Servlet Container는 무엇인가요?
>   - Servlet Container는 사용자의 요청을 어떻게 처리하나요?
> - DispatcherServlet은 뭘까요?
>   - 프론트 컨트롤러 패턴은 무엇일까요?
> - Application Context는 무엇을 의미할까요?
> - SpringBoot는 어떻게 기동되나요?
>   - SpringApplication.run()을 하면 어떤 일이 일어나나요?
>       - SpringBoot, Servlet Container, Application Context(Spring Container), Dispatcher Servlet은 서로 어떻게 상호작용 하나요?
>       - Servlet Container에는 무엇이 탑재될까요?


## Servlet Container
> Servlet Container는 HTTP 요청/응답 기반 웹 애플리케이션을 실행하고 관리하는 서버 환경이다. (ex. Tomcat, Jetty)

서블릿의 생명 주기를 관리하는 요소로, HTTP 요청을 받으면 서블릿을 연결하고 실행한다. 요청이 들어오면 멀티쓰레드 기반으로 처리한다.

사용자의 요청을 처리하는 플로우는 다음과 같다.

> 사용자 HTTP 요청 ->  Servlet Container(Tomcat) - (URL 매핑) -> Servlet 호출 -> 응답 생성 -> 클라이언트 전송

즉 Dispatcher와 Excutor 역할을 모두 수행한다. 

서블릿 컨테이너는 다음과 같은 요소들을 탑재하고 있다.
- DispatcherServlet : 모든 요청의 진입점
- 기본 Servlet/필터 : 에러 처리, 정적 리소스 처리
- 서블릿 스레드 풀 : 멀티 요청 처리



## DispatcherServlet
DispatcherServlet은 Spring MVC의 Front Controller이다.
모든 요청을 한 곳에서 받아 적절한 컨트롤러로 라우팅하는 핵심 Servlet이다. 

스프링 MVC 앱이 실행되면 서블릿 컨테이너에 DispatcherServlet이 등록된다.

### Front Controller 패턴 
모든 클라이언트 요청을 단일 진입점에서 공통 처맇나 뒤 필요한 핸들러(Controller)에게 분배하는 구조

공통 로직을 중앙 처리하기 때문에 인증이나 인코딩, 라우팅 에러 로그 관리에 용이하며 유연한 확장이 가능하다.

## Application Context
Application Context는 IoC/DI를 담당하는 스프링 컨테이너이다. Bean 객체를 생성하고 관계를 연결해주는 시스템

다음과 같은 역할을 한다.

- Bean 생성/관리/주기 제어 
- 의존성 주입(DI)
- 환경 설정 관리 (Config)
- 이벤트 발행/리스닝

DispatcherServlet은 내부적으로 ApplicationContext를 사용하여 컨트롤러, 서비스, 리포지토리 등 빈을 조회하고 호출한다.

## Spring Boot는 어떻게 가동되는가
`SpringApplication.run()` 호출 시 다음과 같은 흐름으로 실행이 된다.

1. SpringBoot 시작
2. 내장 Servlet Container(Tomcat 등) 자동 구동
3. ApplicationContext 생성 -> Bean 등록 및 DI 수행
4. DispatcherServlet 생성 및 Servlet Container에 등록
5. HTTP 요청 수신 준비 완료

이렇게 XML등의 설정 없이 자동으로 서버 + 스프링 컨테이너 + MVC 환경을 세팅할 수 있다.


